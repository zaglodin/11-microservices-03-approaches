# Домашнее задание к занятию "11.03 Микросервисы: подходы"

Вы работаете в крупной компанию, которая строит систему на основе микросервисной архитектуры.
Вам как DevOps специалисту необходимо выдвинуть предложение по организации инфраструктуры, для разработки и эксплуатации.


## Задача 1: Обеспечить разработку

Рассматриваю три варианта Gitlab Teamcity Jenkins
Отбрасываем jenkins - его нужно разворачивать на своих серверах.

Gitlab и Teamcity соответствуют требованиям, только хранить секреты стоит через Vault. Gitlab имеет болший функционал, на нём и стоит остановиться.

## Задача 2: Логи

ELK хорошо ложится на требования:

- Сбор логов в центральное хранилище со всех хостов обслуживающих систему; Logstash
- Минимальные требования к приложениям, сбор логов из stdout; Logstash
- Гарантированная доставка логов до центрального хранилища; Logstash
- Обеспечение поиска и фильтрации по записям логов; Elastic
- Обеспечение пользовательского интерфейса с возможностью предоставления доступа разработчикам для поиска по записям логов; Kibana
- Возможность дать ссылку на сохраненный поиск по записям логов; Kibana

Logstash собирает, направляет на хранение в elastic, визуализация и анализ делается через kibana.

## Задача 3: Мониторинг

NodeExporter сбор метрик + Prometheus хранение + Grafana пользовательский интерфейс

набор этих приложений хорошо соответствует следующим требованиям:

- Сбор метрик со всех хостов, обслуживающих систему;
- Сбор метрик состояния ресурсов хостов: CPU, RAM, HDD, Network;
- Сбор метрик потребляемых ресурсов для каждого сервиса: CPU, RAM, HDD, Network;
- Сбор метрик, специфичных для каждого сервиса;
- Пользовательский интерфейс с возможностью делать запросы и агрегировать информацию;
- Пользовательский интерфейс с возможность настраивать различные панели для отслеживания состояния системы;
